let properties=[{id:1,name:"Beach Hotel",location:"Taupō",longitude:176.0781,latitude:-38.6869,accommodationType:"Hotel",minPeople:1,maxPeople:2,minStay:1,maxStay:5,pricePerNight:"$157",bedrooms:1,bathrooms:1,image:"images/beach-house.webp",description:"Welcome to Beach Hotel, your perfect getaway located in the beautiful town of Taupō, New Zealand. Enjoy stunning lake views and relax in our comfortable and well-appointed accommodations. Our hotel offers easy access to local attractions and outdoor activities, making it an ideal choice for couples seeking a serene and romantic escape.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:2,name:"Mary's Hostel Owaisis",location:"Taupō",longitude:176.0752,latitude:-38.6848,accommodationType:"Hostel",minPeople:1,maxPeople:1,minStay:1,maxStay:10,pricePerNight:"$30",bedrooms:1,bathrooms:1,image:"images/marys-hostel.webp",description:"Welcome to Mary's Hostel Oasis, your budget-friendly haven located near the stunning Lake Taupō, New Zealand. Our cozy hostel offers a comfortable and social environment for solo travelers. Enjoy easy access to local attractions, vibrant nightlife, and a variety of outdoor activities. Whether you're here for adventure or relaxation, Mary's Hostel Oasis is the perfect base for your stay in Taupō.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:3,name:"Zangers Loft",location:"Taupō",longitude:176.08,latitude:-38.6875,accommodationType:"Motel",minPeople:2,maxPeople:4,minStay:3,maxStay:10,pricePerNight:"$90",bedrooms:3,bathrooms:2,image:"images/zangers-loft.webp",description:"Welcome to Zangers Loft, a charming and spacious motel located near the picturesque Lake Taupō, New Zealand. Our motel is perfect for families or small groups seeking a comfortable and affordable stay. With three bedrooms and two bathrooms, Zangers Loft offers ample space and modern amenities. Enjoy easy access to local attractions, water activities, and the natural beauty of Taupō during your stay.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:4,name:"Ambers Retreat",location:"Taupō",longitude:176.0835,latitude:-38.6882,accommodationType:"House",minPeople:1,maxPeople:4,minStay:2,maxStay:15,pricePerNight:"$240",bedrooms:4,bathrooms:3,image:"images/ambers-retreat.webp",description:"Welcome to Ambers Retreat, a luxurious house situated near the beautiful Lake Taupō, New Zealand. This spacious and elegant retreat is perfect for families or small groups seeking a premium getaway. With four bedrooms and three bathrooms, Ambers Retreat offers plenty of space and top-notch amenities. Enjoy breathtaking lake views, easy access to local attractions, and a serene environment during your stay at Ambers Retreat.",mealOptions:[{type:"None",price:0,description:"Kitchen available for use"}]},{id:5,name:"Mountain Lodge",location:"Taupō",longitude:176.1234,latitude:-38.69,accommodationType:"Hotel",minPeople:1,maxPeople:2,minStay:1,maxStay:5,pricePerNight:"$157",bedrooms:1,bathrooms:1,image:"images/beach-house.webp",description:"Experience the cozy charm of Mountain Lodge, nestled in the picturesque town of Taupō, New Zealand. Our hotel provides a warm and inviting atmosphere with breathtaking views of the surrounding mountains. Perfect for a relaxing retreat or a romantic getaway, with easy access to outdoor adventures.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:6,name:"Mary's Hostel Owaisis",location:"Taupō",longitude:176.0752,latitude:-38.6848,accommodationType:"Hostel",minPeople:1,maxPeople:1,minStay:1,maxStay:10,pricePerNight:"$30",bedrooms:1,bathrooms:1,image:"images/marys-hostel.webp",description:"Welcome to Mary's Hostel Oasis, your budget-friendly haven located near the stunning Lake Taupō, New Zealand. Our cozy hostel offers a comfortable and social environment for solo travelers. Enjoy easy access to local attractions, vibrant nightlife, and a variety of outdoor activities. Whether you're here for adventure or relaxation, Mary's Hostel Oasis is the perfect base for your stay in Taupō.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:7,name:"Zangers Loft",location:"Taupō",longitude:176.08,latitude:-38.6875,accommodationType:"Motel",minPeople:2,maxPeople:4,minStay:3,maxStay:10,pricePerNight:"$90",bedrooms:3,bathrooms:2,image:"images/zangers-loft.webp",description:"Welcome to Zangers Loft, a charming and spacious motel located near the picturesque Lake Taupō, New Zealand. Our motel is perfect for families or small groups seeking a comfortable and affordable stay. With three bedrooms and two bathrooms, Zangers Loft offers ample space and modern amenities. Enjoy easy access to local attractions, water activities, and the natural beauty of Taupō during your stay.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:8,name:"Ambers Retreat",location:"Taupō",longitude:176.0835,latitude:-38.6882,accommodationType:"House",minPeople:1,maxPeople:4,minStay:2,maxStay:15,pricePerNight:"$240",bedrooms:4,bathrooms:3,image:"images/ambers-retreat.webp",description:"Welcome to Ambers Retreat, a luxurious house situated near the beautiful Lake Taupō, New Zealand. This spacious and elegant retreat is perfect for families or small groups seeking a premium getaway. With four bedrooms and three bathrooms, Ambers Retreat offers plenty of space and top-notch amenities. Enjoy breathtaking lake views, easy access to local attractions, and a serene environment during your stay at Ambers Retreat.",mealOptions:[{type:"None",price:0,description:"Kitchen available for use"}]},{id:9,name:"Beach Hotel",location:"Taupō",longitude:176.0781,latitude:-38.6869,accommodationType:"Hotel",minPeople:1,maxPeople:2,minStay:1,maxStay:5,pricePerNight:"$157",bedrooms:1,bathrooms:1,image:"images/beach-house.webp",description:"Welcome to Beach Hotel, your perfect getaway located in the beautiful town of Taupō, New Zealand. Enjoy stunning lake views and relax in our comfortable and well-appointed accommodations. Our hotel offers easy access to local attractions and outdoor activities, making it an ideal choice for couples seeking a serene and romantic escape.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:10,name:"Mary's Hostel Owaisis",location:"Taupō",longitude:176.0752,latitude:-38.6848,accommodationType:"Hostel",minPeople:1,maxPeople:1,minStay:1,maxStay:10,pricePerNight:"$30",bedrooms:1,bathrooms:1,image:"images/marys-hostel.webp",description:"Welcome to Mary's Hostel Oasis, your budget-friendly haven located near the stunning Lake Taupō, New Zealand. Our cozy hostel offers a comfortable and social environment for solo travelers. Enjoy easy access to local attractions, vibrant nightlife, and a variety of outdoor activities. Whether you're here for adventure or relaxation, Mary's Hostel Oasis is the perfect base for your stay in Taupō.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:11,name:"Zangers Loft",location:"Taupō",longitude:176.08,latitude:-38.6875,accommodationType:"Motel",minPeople:2,maxPeople:4,minStay:3,maxStay:10,pricePerNight:"$90",bedrooms:3,bathrooms:2,image:"images/zangers-loft.webp",description:"Welcome to Zangers Loft, a charming and spacious motel located near the picturesque Lake Taupō, New Zealand. Our motel is perfect for families or small groups seeking a comfortable and affordable stay. With three bedrooms and two bathrooms, Zangers Loft offers ample space and modern amenities. Enjoy easy access to local attractions, water activities, and the natural beauty of Taupō during your stay.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:12,name:"Ambers Retreat",location:"Taupō",longitude:176.0835,latitude:-38.6882,accommodationType:"House",minPeople:1,maxPeople:4,minStay:2,maxStay:15,pricePerNight:"$240",bedrooms:4,bathrooms:3,image:"images/ambers-retreat.webp",description:"Welcome to Ambers Retreat, a luxurious house situated near the beautiful Lake Taupō, New Zealand. This spacious and elegant retreat is perfect for families or small groups seeking a premium getaway. With four bedrooms and three bathrooms, Ambers Retreat offers plenty of space and top-notch amenities. Enjoy breathtaking lake views, easy access to local attractions, and a serene environment during your stay at Ambers Retreat.",mealOptions:[{type:"None",price:0,description:"Kitchen available for use"}]},{id:13,name:"Beach Hotel",location:"Taupō",longitude:176.0781,latitude:-38.6869,accommodationType:"Hotel",minPeople:1,maxPeople:2,minStay:1,maxStay:5,pricePerNight:"$157",bedrooms:1,bathrooms:1,image:"images/beach-house.webp",description:"Welcome to Beach Hotel, your perfect getaway located in the beautiful town of Taupō, New Zealand. Enjoy stunning lake views and relax in our comfortable and well-appointed accommodations. Our hotel offers easy access to local attractions and outdoor activities, making it an ideal choice for couples seeking a serene and romantic escape.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:14,name:"Mary's Hostel Owaisis",location:"Taupō",longitude:176.0752,latitude:-38.6848,accommodationType:"Hostel",minPeople:1,maxPeople:1,minStay:1,maxStay:10,pricePerNight:"$30",bedrooms:1,bathrooms:1,image:"images/marys-hostel.webp",description:"Welcome to Mary's Hostel Oasis, your budget-friendly haven located near the stunning Lake Taupō, New Zealand. Our cozy hostel offers a comfortable and social environment for solo travelers. Enjoy easy access to local attractions, vibrant nightlife, and a variety of outdoor activities. Whether you're here for adventure or relaxation, Mary's Hostel Oasis is the perfect base for your stay in Taupō.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:15,name:"Zangers Loft",location:"Taupō",longitude:176.08,latitude:-38.6875,accommodationType:"Motel",minPeople:2,maxPeople:4,minStay:3,maxStay:10,pricePerNight:"$90",bedrooms:3,bathrooms:2,image:"images/zangers-loft.webp",description:"Welcome to Zangers Loft, a charming and spacious motel located near the picturesque Lake Taupō, New Zealand. Our motel is perfect for families or small groups seeking a comfortable and affordable stay. With three bedrooms and two bathrooms, Zangers Loft offers ample space and modern amenities. Enjoy easy access to local attractions, water activities, and the natural beauty of Taupō during your stay.",mealOptions:[{description:"Meal option selections available upon booking.",type:"None",price:0},{type:"Breakfast",price:30},{type:"Lunch",price:50},{type:"Dinner",price:70}]},{id:16,name:"Ambers Retreat",location:"Taupō",longitude:176.0835,latitude:-38.6882,accommodationType:"House",minPeople:1,maxPeople:4,minStay:2,maxStay:15,pricePerNight:"$240",bedrooms:4,bathrooms:3,image:"images/ambers-retreat.webp",description:"Welcome to Ambers Retreat, a luxurious house situated near the beautiful Lake Taupō, New Zealand. This spacious and elegant retreat is perfect for families or small groups seeking a premium getaway. With four bedrooms and three bathrooms, Ambers Retreat offers plenty of space and top-notch amenities. Enjoy breathtaking lake views, easy access to local attractions, and a serene environment during your stay at Ambers Retreat.",mealOptions:[{type:"None",price:0,description:"Kitchen available for use"}]}];$(document).ready(function(){new fullpage("#fullpage",{licenseKey:"gplv3-license",controlArrows:!1}),mapboxgl.accessToken="pk.eyJ1IjoiY2lhcmFuc2xvdyIsImEiOiJjbHY0ZW91YnYwOGV3MmlwOGQ5b3l3a3J3In0.EFWZEAWA13ehFAw5jdLqJA",fullpage_api.setAllowScrolling(!1);let l=new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});$("#goToHome").click(function(){fullpage_api.moveTo(1,0)}),$("#goToSearch").click(function(){fullpage_api.moveTo(1,1)}),$("#goToAccommodations").click(function(){fullpage_api.silentMoveTo(1,2)});{var e=Array.from(new Set(properties.map(e=>e.accommodationType)));e.sort();let a=$("#type");a.empty(),a.append('<option value="any">Any</option>'),e.forEach(e=>{a.append(`<option value="${e}">${e}</option>`)})}function c(){var e=$("#startDate").datepicker("getDate"),a=$("#endDate").datepicker("getDate");return e&&a?(a=Math.abs(a.getTime()-e.getTime()),Math.ceil(a/864e5)):0}function a(t){var o=window.matchMedia("(max-width: 600px)").matches?1:window.matchMedia("(max-width: 1024px)").matches?2:3,e=$(".swiper-wrapper");e.empty();for(let a=0;a<t.length;a+=o){var i=$('<div class="swiper-slide"></div>');for(let e=a;e<a+o&&e<t.length;e++){var r=t[e],r=`
                <div class="property">
                    <img src="${r.image}" alt="${r.name}">
                    <div class="property-details">
                        <h3>${r.name}</h3>
                        <p>${r.accommodationType}</p>
                        <h4>${r.pricePerNight}</h4>
                        <p>Min Stay: ${r.minStay} nights</p>
                        <p>Max Stay: ${r.maxStay} nights</p>
                        <div class="property-amenities">
                            <p>${r.bedrooms} <i class="fa-solid fa-bed"></i></p>
                            <p>${r.bathrooms} <i class="fa-solid fa-bath"></i></p>
                        </div>
                        <button class="read-more" data-id="${r.id}">Read More</button>
                    </div>
                </div>
            `;i.append(r)}e.append(i)}l.destroy(!0,!0),l=new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination"}}),fullpage_api.reBuild(),$(".read-more").click(function(){var r=$(this).data("id");{let e=$("#selectedCardModal"),a=properties[0].mealOptions[0].description,t=`
      <div class="selected-modal">
        <button class="close-modal"><i class="fa-solid fa-xmark"></i></button>
        <img src="${properties[r-1].image}" alt="${properties[r-1].name}>

        <div class="modal-contents">
          <div class="content-container">

            <div class="column1">
              <h3>${properties[r-1].name}</h3>
              <p>${properties[r-1].description}</p>
              <h4>Meal Options</h4>
              <p>${a}</p>

              <div class="property-amenities">
                <p>${properties[r-1].bedrooms} <i class="fa-solid fa-bed"></i></p>
                <p>${properties[r-1].bathrooms} <i class="fa-solid fa-bath"></i></p>
              </div>
            </div>

            <div class="column2">
              <div class="map" id="map"></div>

              <div class="price-and-button">
                <h3>${properties[r-1].pricePerNight}</h3>
                <button class="book-now" data-id="${r}">Book Now</button>
              </div>
            </div>

          </div>
        </div>
    `,o=properties[r-1].longitude,i=properties[r-1].latitude;e.empty(),e.append(t);{var n=o;var s=i;let e=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[n,s],zoom:13});e.on("load",function(){e.resize()}),(new mapboxgl.Marker).setLngLat([n,s]).addTo(e)}l.destroy(!0,!0),l=new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination"}}),fullpage_api.reBuild(),$(".close-modal").click(function(){fullpage_api.moveTo(1,2)}),$(".book-now").click(function(){var p=$(this).data("id");{p=properties[p-1];let e=$("#total"),a=p.name,t=parseInt(p.pricePerNight.replace("$",""),10),o=c(),i=0<p.mealOptions.length?p.mealOptions[0].price:0,r=t*o,n=i*o,s=r+n,l="";p.mealOptions.forEach((e,a)=>{a=0===a?"selected-meal":"";l+=`<button class="meal-option ${a}" data-type="${e.type}" data-price="${e.price}">${e.type}</button>`}),p=`
      <div class="total-container">
        <div class="name-and-price">
          <h3>${a}</h3>
          <h3>${p.pricePerNight}</h3>
        </div>
        <ul>
          <li>${$("#guests").val()} Guest</li>
          <li>${o} Nights stay + selected meal</li>
        </ul>
  
        <div class="name-and-price">
          <h3>Meal Options</h3>
          <h3 id="mealPriceDisplay">$${i}</h3>
        </div>
  
        <div class="meal-options">
          ${l}
        </div>
  
        <h4>Total Price</h4>
        <p id="importantMessage">*Note that the total price is multiplied by Accommodation + Meal x Nights staying</p>
        <div class="total-price">
          <h3>Total</h3>
          <h3 id="totalPriceDisplay">$${s}</h3>
        </div>
        <button id="complete">Complete Booking</button>
      </div>
    `,e.empty(),e.append(p),$(".meal-option").click(function(){var e=parseInt($(this).data("price"),10),a=e*o,a=r+a;$("#mealPriceDisplay").text("$"+e),$("#totalPriceDisplay").text("$"+a),$(".meal-option").removeClass("selected-meal"),$(this).addClass("selected-meal")})}fullpage_api.moveTo(1,4)})}fullpage_api.moveTo(1,3)})}$("#startDate").datepicker({dateFormat:"dd/mm/yy"}),$("#endDate").datepicker({dateFormat:"dd/mm/yy"}),$("#searchButton").click(function(e){if(e.preventDefault(),function(){let e=!0,a="";return"#"===$("#guests").val()&&(e=!1,a+="Please select number of guests.<br>"),""===$("#startDate").val()&&(e=!1,a+="Please select a start date.<br>"),""===$("#endDate").val()&&(e=!1,a+="Please select an end date.<br>"),e?$("#error-message").hide():$("#error-message").html(a).show(),e}()){fullpage_api.moveTo(1,2);{let t=$("#type").val(),o=parseInt($("#guests").val(),10)||0,i=parseInt($("#bedrooms").val(),10)||0,r=parseInt($("#bathrooms").val(),10)||0,n=parseInt($("#minPrice").val().replace("$",""),10)||0,s=parseInt($("#maxPrice").val().replace("$",""),10)||1/0,l=c(),e=properties.filter(e=>{var a=parseInt(e.pricePerNight.replace("$",""),10);return("any"===t||e.accommodationType===t)&&e.minPeople<=o&&e.maxPeople>=o&&e.bedrooms>=i&&e.bathrooms>=r&&a>=n&&a<=s&&e.minStay<=l&&e.maxStay>=l});a(e)}}else console.log("Filters not valid")}),a(properties)});